{"version":3,"file":"switch.min.js","sources":["../../components/base/dispatch-focus-mixin.js","../../components/base/base-plugin.js","../../components/switch/mdc-switch.vue","../../components/base/auto-init.js","../../components/switch/entry.js"],"sourcesContent":["export const DispatchFocusMixin = {\n  data () {\n    return  {hasFocus: false}\n  },\n  methods: {\n    onMouseDown() {\n      this._active = true\n    },\n    onMouseUp () {\n      this._active = false\n    },\n    onFocusEvent () {\n      // dispatch async to let time to other focus event to propagate\n      setTimeout(() => this.dispatchFocusEvent(),0)\n    },\n    onBlurEvent () {\n      // dispatch async to let time to other focus event to propagate\n      // also filtur blur if mousedown\n      this._active || setTimeout(() => this.dispatchFocusEvent(),0)\n    },\n    dispatchFocusEvent() {\n      let hasFocus = this.$el === document.activeElement || this.$el.contains(document.activeElement);\n      if (hasFocus != this.hasFocus) {\n        this.$emit(hasFocus ? 'focus' : 'blur')\n        this.hasFocus = hasFocus\n      }\n    }\n  },\n  mounted () {\n    this.$el.addEventListener('focusin', this.onFocusEvent)\n    this.$el.addEventListener('focusout', this.onBlurEvent)\n    this.$el.addEventListener('mousedown', this.onMouseDown)\n    this.$el.addEventListener('mouseup', this.onMouseUp)\n  },\n  beforeDestroy () {\n    this.$el.removeEventListener('focusin', this.onFocusEvent)\n    this.$el.removeEventListener('focusout', this.onBlurEvent)\n    this.$el.removeEventListener('mousedown', this.onMouseDown)\n    this.$el.removeEventListener('mouseup', this.onMouseUp)\n  }\n}\n","export function BasePlugin (components) { \n  return {\n    version: '__VERSION__',\n    install: (vm) => {\n      for (let key in components) {\n        let component = components[key]\n          vm.component(component.name,component)\n      }\n    },\n    components\n  } \n}\n\n","<template>\n  <div class=\"mdc-switch-wrapper\" \n    :class=\"{\n        'mdc-form-field': this.hasLabel,\n        'mdc-form-field--align-end': this.hasLabel && this.alignEnd\n      }\" >\n\n    <div class=\"mdc-switch\" \n      :class=\"{'mdc-switch--disabled': disabled }\">\n      <input ref=\"control\" type=\"checkbox\" \n        :name=\"name\" :id=\"vma_uid_\" \n        class=\"mdc-switch__native-control\" \n        :checked=\"checked\" \n        :disabled=\"disabled\"\n        @change=\"onChanged\" />\n\n      <div class=\"mdc-switch__background\">\n        <div class=\"mdc-switch__knob\"></div>\n      </div>\n\n    </div>\n\n    <label :for=\"vma_uid_\" v-if=\"hasLabel\"\n      class=\"mdc-switch-label\">\n      <slot>{{label}}</slot>\n    </label>\n\n  </div>\n</template>\n\n<script>\nimport {DispatchFocusMixin} from '../base'\n\nexport default {\n  name: 'mdc-switch',\n  mixins: [DispatchFocusMixin],\n  model: {\n    prop: 'checked',\n    event: 'change'\n  },\n  props: {\n    'checked': Boolean,\n    'label': String,\n    'alignEnd': Boolean,\n    'disabled': Boolean,\n    'value': { type: String, default () { return 'on' } },\n    'name': String\n  },\n  computed: {\n    hasLabel () {\n      return this.label || this.$slots.default\n    }\n  },\n  methods: {\n    onChanged (event) {\n      this.$emit('change', event.target.checked)\n    }\n  }\n}\n</script>\n","export function autoInit (plugin) {\n  // Auto-install\n  let _Vue = null\n  if (typeof window !== 'undefined') {\n    _Vue = window.Vue\n  } else if (typeof global !== 'undefined') {\n    /*global global*/\n    _Vue = global.Vue\n  }\n  if (_Vue) {\n    _Vue.use(plugin)\n  }\n}\n  ","import './styles.scss'\nimport {autoInit} from '../base'\nimport plugin from './index.js'\nexport default plugin\n\nautoInit(plugin)\n"],"names":["components","render","hasFocus","_active","_this","dispatchFocusEvent","setTimeout","_this2","this","$el","document","activeElement","contains","$emit","addEventListener","onFocusEvent","onBlurEvent","onMouseDown","onMouseUp","removeEventListener","Boolean","String","type","default","label","$slots","event","target","checked","vm","key","component","name","plugin","_Vue","window","Vue","global","use"],"mappings":";;;;;;;;;wLAAO,ICAqBA,KCiCZC,mzBACR,6CFhCKC,UAAU,yCAIZC,SAAU,6BAGVA,SAAU,iDAIJ,kBAAMC,EAAKC,sBAAqB,2CAKtCF,SAAWG,WAAW,kBAAMC,EAAKF,sBAAqB,sCAGvDH,EAAWM,KAAKC,MAAQC,SAASC,eAAiBH,KAAKC,IAAIG,SAASF,SAASC,eAC7ET,GAAYM,KAAKN,gBACdW,MAAMX,EAAW,QAAU,aAC3BA,SAAWA,6BAKfO,IAAIK,iBAAiB,UAAWN,KAAKO,mBACrCN,IAAIK,iBAAiB,WAAYN,KAAKQ,kBACtCP,IAAIK,iBAAiB,YAAaN,KAAKS,kBACvCR,IAAIK,iBAAiB,UAAWN,KAAKU,0CAGrCT,IAAIU,oBAAoB,UAAWX,KAAKO,mBACxCN,IAAIU,oBAAoB,WAAYX,KAAKQ,kBACzCP,IAAIU,oBAAoB,YAAaX,KAAKS,kBAC1CR,IAAIU,oBAAoB,UAAWX,KAAKU,0BEDvC,gBACC,yBAGIE,cACFC,gBACGD,iBACAA,eACDE,KAAMD,OAAQE,yBAAoB,YACrCF,6CAICb,KAAKgB,OAAShB,KAAKiB,OAAOF,sCAIxBG,QACJb,MAAM,SAAUa,EAAMC,OAAOC,uBDrD3B,iBACA,SAACC,OACH,IAAIC,KAAO9B,EAAY,KACtB+B,EAAY/B,EAAW8B,KACtBC,UAAUA,EAAUC,KAAKD,gBANV/B,wBEArB,SAAmBiC,OAEpBC,EAAO,KACW,oBAAXC,SACFA,OAAOC,IACa,oBAAXC,WAETA,OAAOD,KAEZF,KACGI,IAAIL,ICLJA"}