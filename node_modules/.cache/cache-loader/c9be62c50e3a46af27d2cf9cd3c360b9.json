{"remainingRequest":"/Users/danielsecco/Downloads/quasela-master/node_modules/babel-loader/lib/index.js!/Users/danielsecco/Downloads/quasela-master/public/src/js/utility.js","dependencies":[{"path":"/Users/danielsecco/Downloads/quasela-master/public/src/js/utility.js","mtime":1528734600000},{"path":"/Users/danielsecco/Downloads/quasela-master/node_modules/cache-loader/dist/cjs.js","mtime":1528752079000},{"path":"/Users/danielsecco/Downloads/quasela-master/node_modules/babel-loader/lib/index.js","mtime":1519636541000}],"contextDependencies":[],"result":["var dbPromise = idb.open('posts-store', 4, function (db) {\n  if (!db.objectStoreNames.contains('trees')) {\n    db.createObjectStore('trees', {\n      keyPath: 'cod_tree'\n    });\n  }\n\n  if (!db.objectStoreNames.contains('posts')) {\n    db.createObjectStore('posts', {\n      keyPath: 'id',\n      autoIncrement: false\n    });\n  }\n\n  if (!db.objectStoreNames.contains('sync-posts')) {\n    db.createObjectStore('sync-posts', {\n      keyPath: 'id',\n      autoIncrement: true\n    });\n  }\n\n  if (!db.objectStoreNames.contains('notificationsP')) {\n    db.createObjectStore('notificationsP', {\n      keyPath: 'id',\n      autoIncrement: true\n    });\n  }\n});\n\nfunction writeData(st, data) {\n  return dbPromise.then(function (db) {\n    var tx = db.transaction(st, 'readwrite');\n    var store = tx.objectStore(st);\n    store.put(data);\n    return tx.complete;\n  });\n}\n\nfunction readAllData(st) {\n  return dbPromise.then(function (db) {\n    var tx = db.transaction(st, 'readonly');\n    var store = tx.objectStore(st);\n    return store.getAll();\n  });\n}\n\nfunction clearAllData(st) {\n  return dbPromise.then(function (db) {\n    var tx = db.transaction(st, 'readwrite');\n    var store = tx.objectStore(st);\n    store.clear();\n    return tx.complete;\n  });\n}\n\nfunction deleteItemFromData(st, id) {\n  dbPromise.then(function (db) {\n    var tx = db.transaction(st, 'readwrite');\n    var store = tx.objectStore(st);\n    store.delete(id);\n    return tx.complete;\n  }).then(function () {\n    console.log('Item deleted!');\n  });\n}\n\nfunction urlBase64ToUint8Array(base64String) {\n  var padding = '='.repeat((4 - base64String.length % 4) % 4);\n  var base64 = (base64String + padding).replace(/\\-/g, '+').replace(/_/g, '/');\n  var rawData = window.atob(base64);\n  var outputArray = new Uint8Array(rawData.length);\n\n  for (var i = 0; i < rawData.length; ++i) {\n    outputArray[i] = rawData.charCodeAt(i);\n  }\n\n  return outputArray;\n}\n\nfunction dataURItoBlob(dataURI) {\n  var byteString = atob(dataURI.split(',')[1]);\n  var mimeString = dataURI.split(',')[0].split(':')[1].split(';')[0];\n  var ab = new ArrayBuffer(byteString.length);\n  var ia = new Uint8Array(ab);\n\n  for (var i = 0; i < byteString.length; i++) {\n    ia[i] = byteString.charCodeAt(i);\n  }\n\n  var blob = new Blob([ab], {\n    type: mimeString\n  });\n  return blob;\n}",{"version":3,"sources":["public/src/js/utility.js"],"names":["dbPromise","idb","open","db","objectStoreNames","contains","createObjectStore","keyPath","autoIncrement","writeData","st","data","then","tx","transaction","store","objectStore","put","complete","readAllData","getAll","clearAllData","clear","deleteItemFromData","id","delete","console","log","urlBase64ToUint8Array","base64String","padding","repeat","length","base64","replace","rawData","window","atob","outputArray","Uint8Array","i","charCodeAt","dataURItoBlob","dataURI","byteString","split","mimeString","ab","ArrayBuffer","ia","blob","Blob","type"],"mappings":"AACA,IAAIA,YAAYC,IAAIC,IAAJ,CAAS,aAAT,EAAwB,CAAxB,EAA2B,UAAUC,EAAV,EAAc;AACrD,MAAI,CAACA,GAAGC,gBAAH,CAAoBC,QAApB,CAA6B,OAA7B,CAAL,EAA4C;AAC5CF,OAAGG,iBAAH,CAAqB,OAArB,EAA8B;AAACC,eAAS;AAAV,KAA9B;AACD;;AACD,MAAI,CAACJ,GAAGC,gBAAH,CAAoBC,QAApB,CAA6B,OAA7B,CAAL,EAA4C;AAC1CF,OAAGG,iBAAH,CAAqB,OAArB,EAA8B;AAACC,eAAS,IAAV;AAAeC,qBAAe;AAA9B,KAA9B;AACD;;AACD,MAAI,CAACL,GAAGC,gBAAH,CAAoBC,QAApB,CAA6B,YAA7B,CAAL,EAAiD;AAC/CF,OAAGG,iBAAH,CAAqB,YAArB,EAAmC;AAACC,eAAS,IAAV;AAAeC,qBAAe;AAA9B,KAAnC;AACD;;AACC,MAAI,CAACL,GAAGC,gBAAH,CAAoBC,QAApB,CAA6B,gBAA7B,CAAL,EAAqD;AACrDF,OAAGG,iBAAH,CAAqB,gBAArB,EAAuC;AAACC,eAAS,IAAV;AAAeC,qBAAe;AAA9B,KAAvC;AACD;AACF,CAbe,CAAhB;;AAeA,SAASC,SAAT,CAAmBC,EAAnB,EAAuBC,IAAvB,EAA6B;AAC3B,SAAOX,UACJY,IADI,CACC,UAAST,EAAT,EAAa;AACjB,QAAIU,KAAKV,GAAGW,WAAH,CAAeJ,EAAf,EAAmB,WAAnB,CAAT;AACA,QAAIK,QAAQF,GAAGG,WAAH,CAAeN,EAAf,CAAZ;AACAK,UAAME,GAAN,CAAUN,IAAV;AACA,WAAOE,GAAGK,QAAV;AACD,GANI,CAAP;AAOD;;AAED,SAASC,WAAT,CAAqBT,EAArB,EAAyB;AACvB,SAAOV,UACJY,IADI,CACC,UAAST,EAAT,EAAa;AACjB,QAAIU,KAAKV,GAAGW,WAAH,CAAeJ,EAAf,EAAmB,UAAnB,CAAT;AACA,QAAIK,QAAQF,GAAGG,WAAH,CAAeN,EAAf,CAAZ;AACA,WAAOK,MAAMK,MAAN,EAAP;AACD,GALI,CAAP;AAMD;;AAED,SAASC,YAAT,CAAsBX,EAAtB,EAA0B;AACxB,SAAOV,UACJY,IADI,CACC,UAAST,EAAT,EAAa;AACjB,QAAIU,KAAKV,GAAGW,WAAH,CAAeJ,EAAf,EAAmB,WAAnB,CAAT;AACA,QAAIK,QAAQF,GAAGG,WAAH,CAAeN,EAAf,CAAZ;AACAK,UAAMO,KAAN;AACA,WAAOT,GAAGK,QAAV;AACD,GANI,CAAP;AAOD;;AAED,SAASK,kBAAT,CAA4Bb,EAA5B,EAAgCc,EAAhC,EAAoC;AAClCxB,YACGY,IADH,CACQ,UAAST,EAAT,EAAa;AACjB,QAAIU,KAAKV,GAAGW,WAAH,CAAeJ,EAAf,EAAmB,WAAnB,CAAT;AACA,QAAIK,QAAQF,GAAGG,WAAH,CAAeN,EAAf,CAAZ;AACAK,UAAMU,MAAN,CAAaD,EAAb;AACA,WAAOX,GAAGK,QAAV;AACD,GANH,EAOGN,IAPH,CAOQ,YAAW;AACfc,YAAQC,GAAR,CAAY,eAAZ;AACD,GATH;AAUD;;AAED,SAASC,qBAAT,CAA+BC,YAA/B,EAA6C;AAC3C,MAAIC,UAAU,IAAIC,MAAJ,CAAW,CAAC,IAAIF,aAAaG,MAAb,GAAsB,CAA3B,IAAgC,CAA3C,CAAd;AACA,MAAIC,SAAS,CAACJ,eAAeC,OAAhB,EACVI,OADU,CACF,KADE,EACK,GADL,EAEVA,OAFU,CAEF,IAFE,EAEI,GAFJ,CAAb;AAIA,MAAIC,UAAUC,OAAOC,IAAP,CAAYJ,MAAZ,CAAd;AACA,MAAIK,cAAc,IAAIC,UAAJ,CAAeJ,QAAQH,MAAvB,CAAlB;;AAEA,OAAK,IAAIQ,IAAI,CAAb,EAAgBA,IAAIL,QAAQH,MAA5B,EAAoC,EAAEQ,CAAtC,EAAyC;AACvCF,gBAAYE,CAAZ,IAAiBL,QAAQM,UAAR,CAAmBD,CAAnB,CAAjB;AACD;;AACD,SAAOF,WAAP;AACD;;AAED,SAASI,aAAT,CAAuBC,OAAvB,EAAgC;AAC9B,MAAIC,aAAaP,KAAKM,QAAQE,KAAR,CAAc,GAAd,EAAmB,CAAnB,CAAL,CAAjB;AACA,MAAIC,aAAaH,QAAQE,KAAR,CAAc,GAAd,EAAmB,CAAnB,EAAsBA,KAAtB,CAA4B,GAA5B,EAAiC,CAAjC,EAAoCA,KAApC,CAA0C,GAA1C,EAA+C,CAA/C,CAAjB;AACA,MAAIE,KAAK,IAAIC,WAAJ,CAAgBJ,WAAWZ,MAA3B,CAAT;AACA,MAAIiB,KAAK,IAAIV,UAAJ,CAAeQ,EAAf,CAAT;;AACA,OAAK,IAAIP,IAAI,CAAb,EAAgBA,IAAII,WAAWZ,MAA/B,EAAuCQ,GAAvC,EAA4C;AAC1CS,OAAGT,CAAH,IAAQI,WAAWH,UAAX,CAAsBD,CAAtB,CAAR;AACD;;AACD,MAAIU,OAAO,IAAIC,IAAJ,CAAS,CAACJ,EAAD,CAAT,EAAe;AAACK,UAAMN;AAAP,GAAf,CAAX;AACA,SAAOI,IAAP;AACD","sourceRoot":"/Users/danielsecco/Downloads/quasela-master","sourcesContent":["\nvar dbPromise = idb.open('posts-store', 4, function (db) {\n    if (!db.objectStoreNames.contains('trees')) {\n    db.createObjectStore('trees', {keyPath: 'cod_tree'});\n  }\n  if (!db.objectStoreNames.contains('posts')) {\n    db.createObjectStore('posts', {keyPath: 'id',autoIncrement: false});\n  }\n  if (!db.objectStoreNames.contains('sync-posts')) {\n    db.createObjectStore('sync-posts', {keyPath: 'id',autoIncrement: true});\n  }\n    if (!db.objectStoreNames.contains('notificationsP')) {\n    db.createObjectStore('notificationsP', {keyPath: 'id',autoIncrement: true});\n  }\n});\n\nfunction writeData(st, data) {\n  return dbPromise\n    .then(function(db) {\n      var tx = db.transaction(st, 'readwrite');\n      var store = tx.objectStore(st);\n      store.put(data);\n      return tx.complete;\n    });\n}\n\nfunction readAllData(st) {\n  return dbPromise\n    .then(function(db) {\n      var tx = db.transaction(st, 'readonly');\n      var store = tx.objectStore(st);\n      return store.getAll();\n    });\n}\n\nfunction clearAllData(st) {\n  return dbPromise\n    .then(function(db) {\n      var tx = db.transaction(st, 'readwrite');\n      var store = tx.objectStore(st);\n      store.clear();\n      return tx.complete;\n    });\n}\n\nfunction deleteItemFromData(st, id) {\n  dbPromise\n    .then(function(db) {\n      var tx = db.transaction(st, 'readwrite');\n      var store = tx.objectStore(st);\n      store.delete(id);\n      return tx.complete;\n    })\n    .then(function() {\n      console.log('Item deleted!');\n    });\n}\n\nfunction urlBase64ToUint8Array(base64String) {\n  var padding = '='.repeat((4 - base64String.length % 4) % 4);\n  var base64 = (base64String + padding)\n    .replace(/\\-/g, '+')\n    .replace(/_/g, '/');\n\n  var rawData = window.atob(base64);\n  var outputArray = new Uint8Array(rawData.length);\n\n  for (var i = 0; i < rawData.length; ++i) {\n    outputArray[i] = rawData.charCodeAt(i);\n  }\n  return outputArray;\n}\n\nfunction dataURItoBlob(dataURI) {\n  var byteString = atob(dataURI.split(',')[1]);\n  var mimeString = dataURI.split(',')[0].split(':')[1].split(';')[0]\n  var ab = new ArrayBuffer(byteString.length);\n  var ia = new Uint8Array(ab);\n  for (var i = 0; i < byteString.length; i++) {\n    ia[i] = byteString.charCodeAt(i);\n  }\n  var blob = new Blob([ab], {type: mimeString});\n  return blob;\n}"]}]}